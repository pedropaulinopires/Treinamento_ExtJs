<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../extjs/resources/css/ext-all.css">
    <script type="text/javascript" src="../extjs/ext-all-dev.js"></script>
    <title>Aula 19</title>
</head>

<body>
    <div id="botao"></div>
    <script>
        Ext.define('Usuario', {
            extend: 'Ext.data.Model',
            fields: [
                { name: "id", type: "int" },
                { name: "nome", type: "string" },
                { name: "senha", type: "string" }
            ]
        })
        Ext.define("AjaxProxy", {
            extend: 'Ext.data.Store',
            model: 'Usuario',
            proxy: {
                type: 'ajax',
                url: 'contato/contato.json',
                format: 'json'
            }
        })

        Ext.onReady(function () {
            let req = Ext.create('AjaxProxy')//load


            Ext.create('Ext.button.Button', {
                text: 'click',
                renderTo: "botao",
                listeners: {
                    click: {
                        fn: function () { 
                            console.log(req.load())
                        }
                    }
                }})

        })

    </script>
</body>

</html>